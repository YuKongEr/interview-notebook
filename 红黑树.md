# 红黑树

> 红黑树是一种近平衡二叉树演变而来，通常来说红黑树是通过2-3树演变而来，它能够确保任何一个节点的左右子树的高度差不会超过二者中较低的两倍。

具体来说，红黑树需要满足一下五大条件

- 任意节点不是黑色就是红色
- 根节点必须是黑色
- 叶子节点也就是NIL节点是黑色
- 红色节点的左右子树节点必须是黑色
- 任意NIL节点到根节点的路径包含相同数目的黑色节点

## 旋转

插入中，我们尽量保证满足尽量多的条件。首先case1、case2、case3这三个条件很容易满足，

当我们操作红黑树的时候(插入、删除)，会改变红黑树的条件，那么就会破坏case4 case5条件。

那么我们就需要调整红黑树的结构，让它重新满足以上的五个条件。调整的方式有两种：

- 一种是颜色调整，即改变节点的颜色
- 另一种就是结构调整，结构调整包括（左旋、右旋）

### 左旋

![1537320507888](C:\Users\HSPCAD~1\AppData\Local\Temp\1537320507888.png)



### 右旋

其实右旋跟左旋是对称的

![1537324226400](C:\Users\HSPCAD~1\AppData\Local\Temp\1537324226400.png)



## 插入

在插入过程中，我们要尽量的不破坏更多条件，所以我们插入的节点的颜色会选择红色，这样可以保证case1、case2、case3、case5。 唯一会破坏的就是case4。这时候我们需要通过选择，已经颜色调整使得红黑树重新保持平衡。